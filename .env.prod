# Production Environment Configuration for Permiso Authentication System
# IMPORTANT: Update all passwords and secrets before deployment!

# Environment
ENVIRONMENT=production
DEBUG=false

# Build Configuration
BUILD_TARGET=production
INSTALL_DEV=false

# Server Configuration
APP_PORT=8000
APP_REPLICAS=1

# Database Configuration
POSTGRES_DB=permiso
POSTGRES_USER=permiso
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD_IN_PRODUCTION
POSTGRES_PORT=5432
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# Redis Configuration
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD_IN_PRODUCTION

# JWT Configuration - CRITICAL: Change these in production!
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-256-bit-minimum-length-required-for-security
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# Security Configuration - Production hardened
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

# Rate Limiting - Production settings
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_REGISTER=3/hour
RATE_LIMIT_API=100/minute

# CORS Configuration - Restrict to your domains
ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com,https://nginx,https://permiso-nginx-prod,https://localhost,https://127.0.0.1
ALLOWED_HOSTS=yourdomain.com,api.yourdomain.com,localhost,127.0.0.1,localhost:8000,app,permiso-app,nginx,permiso-nginx-prod

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json

# API Documentation - Disabled in production
# DOCS_URL=
# REDOC_URL=
# OPENAPI_URL=

# Nginx Configuration
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Data Persistence Paths - Update for your production setup
POSTGRES_DATA_PATH=./data/postgres
REDIS_DATA_PATH=./data/redis
LOGS_PATH=./logs
NGINX_LOGS_PATH=./logs/nginx

# Monitoring
ENABLE_METRICS=true
METRICS_PATH=/metrics

# Backup Configuration (for future use)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-east-1

# SSL/TLS Configuration
SSL_CERT_PATH=./docker/configs/nginx/ssl/cert.pem
SSL_KEY_PATH=./docker/configs/nginx/ssl/key.pem

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_START_PERIOD=60s
